<!DOCTYPE html>
<!--

         _____           __          _
        |  __ \         / _|        | |
        | |__) |__ _ __| |_ ___  ___| |_
        |  ___/ _ \ '__|  _/ _ \/ __| __|
        | |  |  __/ |  | ||  __/ (__| |_
        |_|___\___|_|  |_| \___|\___|\__|
         / __ \    | |
        | |  | |___| |_ _ __ _____   _____
        | |  | / __| __| '__/ _ \ \ / / _ \
        | |__| \__ \ |_| | | (_) \ V /  __/
         \____/|___/\__|_|  \___/ \_/ \___|
        |  _ \| |
        | |_) | | ___  ___ ___  ___  _ __ ___
        |  _ <| |/ _ \/ __/ __|/ _ \| '_ ` _ \
        | |_) | | (_) \__ \__ \ (_) | | | | | |
        |____/|_|\___/|___/___/\___/|_| |_| |_|
        
        Perfect Ostrove Blossom.
        Alex Striff.

-->
<html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript">
/**
* Gets a script with callback on success.
 */
function getScript(url,success)
{
	var head = document.getElementsByTagName("head")[0], done = false;
	var script = document.createElement("script");
	script.src = url;
	/* Attach handlers for all browsers. */
	script.onload = script.onreadystatechange = function(){
		if (!done && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete") ) {
			done = true;
			if (typeof success === 'function') success();
		}
	};
	head.appendChild(script);
}
		</script>
		<style>
body
{
	color       : #F8F;
	background  : url("pob.jpg") repeat;
	font-family : "Comic Neue", "Comic Sans MS", "Helvetica", Sans-Serif;
	overflow    : hidden;
}

div#container
{
	position           : absolute;
	top                : 0;
	left               : 0;
	height             : 100vh;
	width              : 100vw;
	background         : rgba(0, 0, 0, 0.9);
	-webkit-transition : background-color 2s linear;
	-moz-transition    : background-color 2s linear;
	-o-transition      : background-color 2s linear;
	transition         : background-color 2s linear;
}

div.change#container
{
	background : rgba(0, 0, 0, 0.9);
}

h1
{
	text-align : center;
}

canvas
{
	border : #111 2px solid;
}

canvas#bullet_canvas, canvas#overlay_canvas,
canvas#sprite_canvas, canvas#bg_canvas
{
	position : absolute;
	left     : 1em;
}

canvas#bg_canvas
{
	z-index    : 0;
	background : #000;
}

canvas#bullet_canvas
{
  z-index : 2;
}

canvas#overlay_canvas
{
  z-index : 1;
}

canvas#sprite_canvas
{
  z-index : 3;
}

canvas#info_canvas
{
	position   : absolute;
	left       : 21em;
	margin-top : 250px;
}

div.expr
{
	font-size  : 0.75em;
}

div#eqns
{
	position   : absolute;
	left       : 22em;
	margin-top : 1em;
}

img
{
	position   : absolute;
	left       : 21em;
	margin-top : 1em;
}

span#perm_set
{
	font-size : 0.325em;
}

span#song
{
	margin-top      : -2em;
	margin-bottom   : 1em;
	color           : #848;
	font-size       : 0.5em;
	font-weight     : bold;
	font-style      : italic;
	text-decoration : italic;
	text-align      : center;
	display         : block;
}

span#song:hover
{
	color : #A6A;
}
		</style>
	</head>
	<body>
		<div id="container">
			<h1>TouhouStrove 7: Perfect Ostrove Blossom</h1>
			<span id="song">
				Left Click to Toggle Music, Right Click to Change Song!
			</span>
			<div id="eqns">
				<h2>
					Iterated
					<span id="cur_perm">0</span>
					of
					<span id="max_perms">0</span> Danmaku.
					<br />
					<span id="perm_set"></span>
				</h2>
				<div class="expr" id="x_expr">
					`x(t) = 0`
				</div>
				<br />
				<div class="expr" id="y_expr">
					`y(t) = 0`
				</div>
			</div>
			<canvas id="bg_canvas"></canvas>
			<canvas id="bullet_canvas"></canvas>
			<canvas id="overlay_canvas"></canvas>
			<canvas id="sprite_canvas"></canvas>
			<canvas id="info_canvas"></canvas>
		</div>
		<!-- <script type="text/javascript" src="worker.js"></script> -->
		<script type="text/javascript" src="music.js" async></script>
		<script type="text/javascript" src="math.js" async></script>
		<!-- <script type="text/javascript" src="pob.js"></script> -->
		<script type="text/javascript" defer>
/**
 * Load all the things.
 */
document.addEventListener("DOMContentLoaded", function() {
	getScript("../mathjax/MathJax.js?config=TeX-MML-AM_CHTML", function() {
		MathJax.Hub.Queue(function() {
			getScript("pob.js", function() {
				init();
			});
		});
	});
});

/*
var container_change = false;
var container = document.getElementById("container");
setInterval(function() {
	container.classList.toggle("change");
}, 2000);
*/
		</script>
	</body>
</html>

